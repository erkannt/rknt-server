version: "3"

services:
  nullitics:
    image: zserge/nullitics
    volumes:
      - /var/volumes/nullitics/data:/data
    command: "-url nullitics.rknt.de -dir /data"
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.nullitics.rule=Host(`nullitics.rknt.de`)"
      - "traefik.http.routers.nullitics.entrypoints=websecure"
      - "traefik.http.routers.nullitics.tls.certresolver=myresolver"
      - "traefik.http.routers.nullitics-dash.rule=Host(`nullitics.rknt.de`) && Path(`/`)"
      - "traefik.http.routers.nullitics-dash.entrypoints=websecure"
      - "traefik.http.routers.nullitics-dash.tls.certresolver=myresolver"
      - "traefik.http.routers.nullitics-dash.middlewares=admin-auth@docker"
    networks:
      - traefik
    restart: unless-stopped

networks:
  traefik:
    external: true
