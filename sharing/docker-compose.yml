version: "3.7"
services:
  restserver:
    image: eikek0/sharry
    command: /opt/sharry.conf
    volumes:
      - ./sharry.conf:/opt/sharry.conf
      - /var/volumes/sharry:/var/sharry
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.sharing.rule=Host(`sharing.rknt.de`)"
      - "traefik.http.routers.sharing.entrypoints=websecure"
      - "traefik.http.services.sharing.loadbalancer.server.port=80"
      - "traefik.http.routers.sharing.tls.certresolver=myresolver"
